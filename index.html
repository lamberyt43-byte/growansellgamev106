<!DOCTYPE html>
<html>

<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Grow and Sell</title>

  <style>
    body {
  font-family: 'Segoe UI', sans-serif;
  background: #f3f0e5;
  color: #333;
  text-align: center;
  padding: 20px;
}

#eventBanner {
  background-color: #fff3cd;
  border: 1px solid #ffeeba;
  color: #856404;
  padding: 10px;
  margin-bottom: 15px;
  border-radius: 8px;
  font-weight: bold;
  font-size: 14px;
}


#eggShop, #petInventoryBox {
  margin-top: 20px;
  background: #fff6e0;
  padding: 15px;
  border-radius: 10px;
}

.petSlot {
  display: flex;
  align-items: center;
  margin: 5px;
  padding: 5px;
  background: #e0f7fa;
  border-radius: 8px;
}

.petEmoji {
  font-size: 30px;
  margin-right: 10px;
}

.petInfo {
  text-align: left;
}


#plantShop {
  position: fixed;
  top: 70px;
  left: 50%;
  transform: translateX(-50%);
  width: 90%;
  max-width: 400px;
  max-height: 70vh;
  background: #fff;
  border-radius: 15px;
  padding: 20px;
  box-shadow: 0 6px 20px rgba(0,0,0,0.2);
  overflow-y: auto;
  z-index: 999;
}

#plantShop h3 {
  margin-top: 0;
}

.shop-list {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
}

.shop-list button {
  width: 110px;
  margin: 6px;
  font-size: 14px;
}

.hidden {
  display: none;
}


#harvestButton {
  position: fixed;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  background-color: #ffb74d;
  color: #333;
  padding: 12px 24px;
  font-size: 16px;
  border: none;
  border-radius: 12px;
  box-shadow: 0 4px 8px rgba(0,0,0,0.2);
  cursor: pointer;
  z-index: 1000;
  transition: background 0.3s;
}

#harvestButton:hover {
  background-color: #ffa000;
}


#moneyBar {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  background-color: #c5e1a5;
  color: #333;
  font-weight: bold;
  padding: 10px;
  font-size: 18px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.2);
  z-index: 1000;
}


#game {
  max-width: 500px;
  margin: auto;
  background: #fff8f0;
  border-radius: 15px;
  padding: 20px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}

button {
  margin: 5px;
  padding: 10px;
  border: none;
  background: #8bc34a;
  color: white;
  font-weight: bold;
  border-radius: 10px;
  cursor: pointer;
  transition: 0.3s;
}

button:hover {
  background: #689f38;
}

#garden {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
}

.plot {
  width: 80px;
  height: 80px;
  margin: 5px;
  background: #c8e6c9;
  border: 2px dashed #558b2f;
  border-radius: 10px;
  position: relative;
  font-size: 30px;
  cursor: pointer;
  display: flex;
  justify-content: center;
  align-items: center;
}

.plot.ready {
  background: #fff59d;
}

.tooltip {
  font-size: 10px;
  position: absolute;
  bottom: 0;
  width: 100%;
  background: rgba(255,255,255,0.7);
  border-radius: 0 0 10px 10px;
}

@keyframes growPulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.15); }
  100% { transform: scale(1); }
}

.plot.growing {
  animation: growPulse 1.5s infinite;
}





  </style>

  
</head>
<body>
  <!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>üåæ –í—ã—Ä–∞—Å—Ç–∏ –∏ –ø—Ä–æ–¥–∞–π!</title>
  <link rel="stylesheet" href="style.css" />
</head>
<audio id="bg-music" src="music.mp3" loop autoplay></audio>

<body>
  <div id="game">
    <h1>üåø –í—ã—Ä–∞—Å—Ç–∏ –∏ –ø—Ä–æ–¥–∞–π</h1>
    <div id="moneyBar">
  üí∞ –®–∞–∫–∏–ª–∏: <span id="money">0</span>
</div>



<div id="eventBanner">
  üçÇ <strong>–û—Å–µ–Ω–Ω–∏–π –∏–≤–µ–Ω—Ç!</strong> –î–æ—Å—Ç—É–ø–µ–Ω –¥–æ <strong>21 —Å–µ–Ω—Ç—è–±—Ä—è</strong>
</div>

<button onclick="openQuests()">üìú –ö–≤–µ—Å—Ç—ã</button>

<div id="questWindow" style="display:none; position:fixed; top:20%; left:50%; transform:translateX(-50%); background:#fff3e0; border:2px solid #d2691e; padding:20px; border-radius:10px; z-index:100; width:320px;">
  <h3>üåü –û—Å–µ–Ω–Ω–∏–µ –∫–≤–µ—Å—Ç—ã</h3>
  <ul id="questList"></ul>
  <button onclick="closeQuests()">–ó–∞–∫—Ä—ã—Ç—å</button>
</div>



    <button onclick="showRecords()" style="margin-bottom: 10px;">üìä –¢–∞–±–ª–∏—Ü–∞ —Ä–µ–∫–æ—Ä–¥–æ–≤</button>


    <div id="upgradeShop">
      <h3>üîß –£–ª—É—á—à–µ–Ω–∏—è</h3>
      <button onclick="buySlot()">–î–æ–±–∞–≤–∏—Ç—å –≥—Ä—è–¥–∫—É (15üí∞) ‚Äî <span id="slotCount"></span></button>
      <button onclick="buyWatering()">–ü–æ–ª–∏–≤–∞–ª–∫–∞ üåßÔ∏è (10üí∞)</button>
    </div>
 


    <button onclick="toggleShop()">üõí –û—Ç–∫—Ä—ã—Ç—å –º–∞–≥–∞–∑–∏–Ω</button>

<div id="plantShop" class="hidden">
  <h3>üå± –ú–∞–≥–∞–∑–∏–Ω —Ä–∞—Å—Ç–µ–Ω–∏–π <button onclick="toggleShop()">‚ùå</button></h3>
  <div id="seedButtons" class="shop-list"></div>
</div>


    <h3>üå± –ì—Ä—è–¥–∫–∏</h3>
    <div id="garden"></div>
  </div>

  <div id="eggShop">
  <h3>ü•ö –ú–∞–≥–∞–∑–∏–Ω —è–∏—Ü</h3>
  <div id="eggButtons"></div>
</div>

<div id="petInventoryBox">
  <h3>üêæ –í–∞—à–∏ –ø–∏—Ç–æ–º—Ü—ã</h3>
  <div id="petInventory"></div>
  
</div>


  <script src="game.js"></script>

  <button id="harvestButton" onclick="harvestAll()">–°–æ–±—Ä–∞—Ç—å –≤—Å—ë üåæ</button>

<div id="recordsScreen" style="display:none; padding: 20px;">
  <h2>üèÜ –¢–∞–±–ª–∏—Ü–∞ —Ä–µ–∫–æ—Ä–¥–æ–≤</h2>
  <p>üîù –õ—É—á—à–∞—è —Å—É–º–º–∞ —à–∞–∫–∏–ª–µ–π: <span id="bestMoneyDisplay">0</span> üí∞</p>
  <button onclick="hideRecords()">‚¨ÖÔ∏è –ù–∞–∑–∞–¥</button>
</div>

<p id="recordUpdateTimer" style="font-size: 12px; color: gray; margin-top: 10px;">
  üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑: <span id="updateTime"></span>
</p>

</body>
</html>



  <script>
    let money = parseInt(localStorage.getItem("money")) || 20;
let slots = parseInt(localStorage.getItem("slots")) || 3;
let watering = parseInt(localStorage.getItem("watering")) || 0;
let garden = JSON.parse(localStorage.getItem("garden")) || [];
let displayedMoney = money;
let bestMoney = parseInt(localStorage.getItem("bestMoney")) || 0;
let eggsOwned = [];
let petsOwned = [];
let autumnQuests = [
  { text: "–ü–æ—Å–∞–¥–∏ 500 —Ä–∞—Å—Ç–µ–Ω–∏–π", progress: 0, goal: 500, completed: false },
  { text: "–°–æ–±–µ—Ä–∏ 300 —É—Ä–æ–∂–∞–µ–≤", progress: 0, goal: 300, completed: false },
  { text: "–ó–∞—Ä–∞–±–æ—Ç–∞–π 10000üí∞", progress: 0, goal: 10000, completed: false }
];





const eventActive = true;

const eggs = [
  
  {
    name: "–û–±—ã—á–Ω–æ–µ —è–π—Ü–æ",
    price: 10,
    pets: [
      { name: "–ö–æ—Ç–∏–∫", emoji: "üê±", chance: 60, ability: "–ë–æ–Ω—É—Å 1üí∞ –∑–∞ —Å–±–æ—Ä" },
      { name: "–°–æ–±–∞—á–∫–∞", emoji: "üê∂", chance: 35, ability: "–†–∞—Å—Ç–µ–Ω–∏—è —Ä–∞—Å—Ç—É—Ç –±—ã—Å—Ç—Ä–µ–µ" },
      { name: "–î—Ä–∞–∫–æ–Ω", emoji: "üêâ", chance: 5, ability: "+2üí∞ –∫–æ –≤—Å–µ–º —Å–±–æ—Ä–∞–º" }
    ]
  }, // ‚Üê –¥–æ–±–∞–≤–∏–ª –∑–∞–ø—è—Ç—É—é –∑–¥–µ—Å—å
  {
    name: "–û—Å–µ–Ω–Ω–µ–µ —è–π—Ü–æ",
    emoji: "üçÅ",
    price: 25,
    pets: [
      {
        name: "–Å–∂–∏–∫ –õ–∏—Å—Ç–∏–∫",
        emoji: "ü¶î",
        ability: "–£—Å–∫–æ—Ä—è–µ—Ç —Ä–æ—Å—Ç —Ä–∞—Å—Ç–µ–Ω–∏–π –Ω–∞ 5%",
        chance: 60,
        rarity: "–æ–±—ã—á–Ω—ã–π"
      },
      {
        name: "–ö–ª–µ–Ω–æ–≤—ã–π –ó–∞–π–∫–∞",
        emoji: "üê∞",
        ability: "–£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –ø—Ä–∏–±—ã–ª—å –Ω–∞ 10%",
        chance: 30,
        rarity: "—Ä–µ–¥–∫–∏–π"
      },
      {
        name: "–î—Ä–∞–∫–æ–Ω –®–∞–∫–∏–ª–∏–π",
        emoji: "üêâ",
        ability: "–£–¥–≤–∞–∏–≤–∞–µ—Ç –ø—Ä–∏–±—ã–ª—å —Å —Ä–∞—Å—Ç–µ–Ω–∏–π",
        chance: 10,
        rarity: "–ª–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π"
      }
    ]
  },
  {
  name: "–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω–æ–µ —è–π—Ü–æ",
  emoji: "üåü",
  price: 100,
  pets: [
    {
      name: "–¢–∏–≥—Ä –ë—É—Ä–∏",
      emoji: "üêØ",
      ability: "–£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Å–∫–æ—Ä–æ—Å—Ç—å —Ä–æ—Å—Ç–∞ –≤—Å–µ—Ö —Ä–∞—Å—Ç–µ–Ω–∏–π –Ω–∞ 20%",
      chance: 35,
      rarity: "—ç–ø–∏—á–µ—Å–∫–∏–π"
    },
    {
      name: "–î—Ä–µ–≤–Ω–∏–π –î—Ä–∞–∫–æ–Ω",
      emoji: "üê≤",
      ability: "–¢—Ä–æ–π–Ω–æ–π –¥–æ—Ö–æ–¥ —Å–æ –≤—Å–µ—Ö —Ä–∞—Å—Ç–µ–Ω–∏–π",
      chance: 15,
      rarity: "–ª–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π"
    }
  ]
}

];

 





const maxPets = 4;



const maxSlots = 500; // –º–∞–∫—Å–∏–º—É–º —Å–ª–æ—Ç–æ–≤


const seeds = [
  { name: "–õ—É–∫", emoji: "üßÖ", price: 2, growTime: 3000, rarity: "—Å—Ç–∞—Ä—Ç–æ–≤–æ–µ" },
  { name: "–ú–æ—Ä–∫–æ–≤—å", emoji: "ü•ï", price: 4, growTime: 6000, rarity: "–æ–±—ã—á–Ω–æ–µ" },
  { name: "–ü—Ä–∏–∑—Ä–∞—á–Ω–∞—è –∫–ª—É–±–Ω–∏–∫–∞", emoji: "üçì", price: 10, growTime: 10000, rarity: "—Ä–µ–¥–∫–æ–µ" },
  { name: "–°–∞—Ö–∞—Ä–Ω–æ–µ –¥–µ—Ä–µ–≤–æ", emoji: "üç¨", price: 15, growTime: 12000, rarity: "—ç–ø–∏—á–µ—Å–∫–æ–µ" },
  { name: "–î–µ—Ä–µ–≤–æ –°–∞—Ç—É—Ä–Ω–∞", emoji: "ü™ê", price: 20, growTime: 15000, rarity: "–ª–µ–≥–µ–Ω–¥–∞—Ä–Ω–æ–µ" },
  { name: "–°–≤–µ—Ç–æ—Ñ—Ä—É–∫—Ç", emoji: "üí°", price: 12, growTime: 9000, rarity: "—Ä–µ–¥–∫–æ–µ" },
  { name: "–ú–µ–¥–æ–≤–∞—è —Ç—ã–∫–≤–∞", emoji: "üéÉ", price: 8, growTime: 7000, rarity: "–æ–±—ã—á–Ω–æ–µ" },
  { name: "–ö–æ—Å–º–∏—á–µ—Å–∫–∞—è –º–∞–ª–∏–Ω–∞", emoji: "üõ∏", price: 18, growTime: 14000, rarity: "–ª–µ–≥–µ–Ω–¥–∞—Ä–Ω–æ–µ" },
  { name: "–û–≥–Ω–µ–Ω–Ω–∞—è –≥—Ä—É—à–∞", emoji: "üî•", price: 9, growTime: 7500, rarity: "—Ä–µ–¥–∫–æ–µ" },
  { name: "–õ–µ–¥—è–Ω–æ–π –±–∞–Ω–∞–Ω", emoji: "‚ùÑÔ∏è", price: 11, growTime: 8500, rarity: "—Ä–µ–¥–∫–æ–µ" },
  { name: "–ë–ª–µ—Å—Ç—è—â–∞—è —á–µ—Ä–Ω–∏–∫–∞", emoji: "üîµ", price: 10, growTime: 8000, rarity: "—Ä–µ–¥–∫–æ–µ" },
  { name: "–†–∞–¥—É–∂–Ω–æ–µ —è–±–ª–æ–∫–æ", emoji: "üåà", price: 15, growTime: 10000, rarity: "—ç–ø–∏—á–µ—Å–∫–æ–µ" },
  { name: "–¢—É–º–∞–Ω–Ω–∞—è –≤–∏—à–Ω—è", emoji: "üå´Ô∏è", price: 13, growTime: 9500, rarity: "—Ä–µ–¥–∫–æ–µ" },
  { name: "–ö—Ä–∏—Å—Ç–∞–ª–ª–∏—á–µ—Å–∫–∏–π –ø–µ—Ä—Å–∏–∫", emoji: "üíé", price: 17, growTime: 13000, rarity: "—ç–ø–∏—á–µ—Å–∫–æ–µ" },
  { name: "–ì—Ä–∞–≤–∏—Ç–∞—Ü–∏–æ–Ω–Ω—ã–π –∞—Ä–±—É–∑", emoji: "üåå", price: 22, growTime: 16000, rarity: "–ª–µ–≥–µ–Ω–¥–∞—Ä–Ω–æ–µ" },
  { name: "–ó–≤—ë–∑–¥–Ω–∞—è –¥—ã–Ω—è", emoji: "‚≠ê", price: 16, growTime: 11000, rarity: "—ç–ø–∏—á–µ—Å–∫–æ–µ" },
  { name: "–ö–æ–∫–∞-—Ñ—Ä—É–∫—Ç", emoji: "ü•§", price: 12, growTime: 8700, rarity: "—Ä–µ–¥–∫–æ–µ" },
  { name: "–§—Ä—É–∫—Ç –Ω–æ—á–∏", emoji: "üåö", price: 14, growTime: 9000, rarity: "—Ä–µ–¥–∫–æ–µ" },
  { name: "–¢–æ–∫—Å–∏—á–Ω—ã–π –ª–∏–º–æ–Ω", emoji: "‚ò£Ô∏è", price: 8, growTime: 6000, rarity: "–Ω–µ–æ–±—ã—á–Ω–æ–µ" },
  { name: "–ë–∞–Ω–∞–Ω-—Ä–∞–∫–µ—Ç–∞", emoji: "üöÄ", price: 19, growTime: 14000, rarity: "—ç–ø–∏—á–µ—Å–∫–æ–µ" },
  { name: "–ñ–≤–∞—á–Ω–æ–µ –¥–µ—Ä–µ–≤–æ", emoji: "ü´ß", price: 20, growTime: 15000, rarity: "–ª–µ–≥–µ–Ω–¥–∞—Ä–Ω–æ–µ" },
  { name: "–ú–æ–ª–Ω–∏–µ–≤—ã–π –∞–ø–µ–ª—å—Å–∏–Ω", emoji: "‚ö°", price: 15, growTime: 10000, rarity: "—ç–ø–∏—á–µ—Å–∫–æ–µ" },
  { name: "–õ–∞–∑–µ—Ä–Ω–∞—è —Å–ª–∏–≤–∞", emoji: "üî¥", price: 13, growTime: 9700, rarity: "—Ä–µ–¥–∫–æ–µ" },
  { name: "–¢–∞–Ω—Ü—É—é—â–∏–π –∞–Ω–∞–Ω–∞—Å", emoji: "üíÉüçç", price: 11, growTime: 9200, rarity: "–Ω–µ–æ–±—ã—á–Ω–æ–µ" },
  { name: "–ú–∞–≥–∏—á–µ—Å–∫–∞—è –º—è—Ç–∞", emoji: "üßôüåø", price: 14, growTime: 10000, rarity: "—Ä–µ–¥–∫–æ–µ" },
  { name: "–ö–∞—Ä–∞–º–µ–ª—å–Ω–∞—è –º–æ—Ä–∫–æ–≤–∫–∞", emoji: "ü•ïüç¨", price: 12, growTime: 9000, rarity: "—Ä–µ–¥–∫–æ–µ" },
  { name: "–°–∞—Ö–∞—Ä–Ω–∞—è —Å–≤–µ–∫–ª–∞", emoji: "üç≠üç†", price: 10, growTime: 8000, rarity: "–æ–±—ã—á–Ω–æ–µ" },
  { name: "–ñ–µ–ª–µ–π–Ω—ã–π –∞—Ä–±—É–∑", emoji: "üçâüß°", price: 15, growTime: 10000, rarity: "—Ä–µ–¥–∫–æ–µ" },
  { name: "–ü—É–∑—ã—Ä–∏—Å—Ç–∞—è –≤–∏—à–Ω—è", emoji: "üçíü´ß", price: 17, growTime: 10500, rarity: "—Ä–µ–¥–∫–æ–µ" },
  { name: "–ü–∞–ø—Ä–∏–∫–∞-–ø—É—à–∫–∞", emoji: "üå∂Ô∏èüí•", price: 19, growTime: 11000, rarity: "—ç–ø–∏—á–µ—Å–∫–æ–µ" },
  { name: "–ú–æ–ª–Ω–∏–µ–Ω–æ—Å–Ω—ã–π –ª–∏–º–æ–Ω", emoji: "üçã‚ö°", price: 21, growTime: 11500, rarity: "—Ä–µ–¥–∫–æ–µ" },
  { name: "–ö–ª—É–±–Ω–∏–∫–∞ —Å –Ω–µ–±–∞", emoji: "üçì‚òÅÔ∏è", price: 23, growTime: 12000, rarity: "—Ä–µ–¥–∫–æ–µ" },
  { name: "–ü—ã–ª–∞—é—â–∞—è —Ç—ã–∫–≤–∞", emoji: "üéÉüî•", price: 26, growTime: 12500, rarity: "—Ä–µ–¥–∫–æ–µ" },
  { name: "–Ø–≥–æ–¥–∞-—Å—Ñ–µ—Ä–∞", emoji: "ü´ê‚öôÔ∏è", price: 28, growTime: 13000, rarity: "—Ä–µ–¥–∫–æ–µ" },
  { name: "–ó–≤—ë–∑–¥–Ω—ã–π –ø–æ–º–∏–¥–æ—Ä", emoji: "üçÖüå†", price: 30, growTime: 13500, rarity: "—ç–ø–∏—á–µ—Å–∫–æ–µ" },
  { name: "–õ—É–Ω–Ω–∞—è –∫–ª—É–±–Ω–∏–∫–∞", emoji: "üçìüåô", price: 33, growTime: 14000, rarity: "—ç–ø–∏—á–µ—Å–∫–æ–µ" },
  { name: "–ó–æ–ª–æ—Ç–æ–π –±–∞–Ω–∞–Ω", emoji: "üçå‚ú®", price: 35, growTime: 14500, rarity: "—ç–ø–∏—á–µ—Å–∫–æ–µ" },
  { name: "–†–∞–¥—É–∂–Ω–∞—è —Ä–µ–¥—å–∫–∞", emoji: "üåÄü•ó", price: 38, growTime: 15000, rarity: "—ç–ø–∏—á–µ—Å–∫–æ–µ" },
  { name: "–í—É–ª–∫–∞–Ω–∏—á–µ—Å–∫–∞—è –≥—Ä—É—à–∞", emoji: "üçêüåã", price: 40, growTime: 15500, rarity: "—ç–ø–∏—á–µ—Å–∫–æ–µ" },
  { name: "–•—Ä—É—Å—Ç–∞–ª—å–Ω–∞—è –¥—ã–Ω—è", emoji: "üçàüíé", price: 43, growTime: 16000, rarity: "—ç–ø–∏—á–µ—Å–∫–æ–µ" },
  { name: "–ê—Å—Ç—Ä–∞–ª—å–Ω—ã–π –∏–Ω–∂–∏—Ä", emoji: "üååüçá", price: 46, growTime: 16500, rarity: "–ª–µ–≥–µ–Ω–¥–∞—Ä–Ω–æ–µ" },
  { name: "–ù–µ–æ–Ω–æ–≤—ã–π –∞–ø–µ–ª—å—Å–∏–Ω", emoji: "üçäüí°", price: 50, growTime: 17000, rarity: "–ª–µ–≥–µ–Ω–¥–∞—Ä–Ω–æ–µ" },
  { name: "–°–≤–µ—Ç–æ—Ñ—Ä—É–∫—Ç", emoji: "üí°üçè", price: 52, growTime: 17500, rarity: "–ª–µ–≥–µ–Ω–¥–∞—Ä–Ω–æ–µ" },
  { name: "–°–æ–ª–Ω–µ—á–Ω—ã–π –∫–æ–∫–æ—Å", emoji: "ü••‚òÄÔ∏è", price: 55, growTime: 18000, rarity: "–ª–µ–≥–µ–Ω–¥–∞—Ä–Ω–æ–µ" },
  { name: "–ö–æ–º–µ—Ç–Ω–æ–µ –º–∞–Ω–≥–æ", emoji: "ü•≠‚òÑÔ∏è", price: 58, growTime: 18500, rarity: "–ª–µ–≥–µ–Ω–¥–∞—Ä–Ω–æ–µ" },
  { name: "–ü–∏–∫—Å–µ–ª—å–Ω–æ–µ —è–±–ª–æ–∫–æ", emoji: "üçéüü©", price: 60, growTime: 19000, rarity: "—ç–ø–∏—á–µ—Å–∫–æ–µ" },
  { name: "–ì—Ä–∞–≤–∏—Ç–∞—Ü–∏–æ–Ω–Ω–∞—è –∫–∞–ø—É—Å—Ç–∞", emoji: "ü•¨üåå", price: 65, growTime: 19500, rarity: "—ç–ø–∏—á–µ—Å–∫–æ–µ" },
  { name: "–Ø–¥—Ä–æ –ø–µ—Ä—Å–∏–∫–∞", emoji: "üçëüîò", price: 68, growTime: 20000, rarity: "—ç–ø–∏—á–µ—Å–∫–æ–µ" },
  { name: "–ì—Ä–æ–∑–æ–≤–æ–π –º–∞–Ω–¥–∞—Ä–∏–Ω", emoji: "üçäüå©Ô∏è", price: 70, growTime: 20500, rarity: "–ª–µ–≥–µ–Ω–¥–∞—Ä–Ω–æ–µ" },
  { name: "–¢–∞–π–Ω–∞—è –∫–ª—É–±–Ω–∏–∫–∞", emoji: "üçìüïµÔ∏è", price: 75, growTime: 21000, rarity: "–ª–µ–≥–µ–Ω–¥–∞—Ä–Ω–æ–µ" },
  { name: "–ö–æ—Å–º–∏—á–µ—Å–∫–∞—è –¥—ã–Ω—è", emoji: "üçàü™ê", price: 97, growTime: 22000, rarity: "–º–∏—Ñ–∏—á–µ—Å–∫–æ–µ" },
  { name: "–ú–∞–≥–Ω–∏—Ç–Ω–∞—è –º–æ—Ä–∫–æ–≤–∫–∞", emoji: "ü•ïüß≤", price: 550, growTime: 23000, rarity: "–º–∏—Ñ–∏—á–µ—Å–∫–æ–µ" },
  { name: "–ü–ª–æ–¥ –ø–æ—Ä—Ç–∞–ª–∞", emoji: "üåÄüçí", price: 850, growTime: 24000, rarity: "–º–∏—Ñ–∏—á–µ—Å–∫–æ–µ" },
  { name: "–†–∞—Å—Ç–µ–Ω–∏–µ –≤–µ—á–Ω–æ—Å—Ç–∏", emoji: "‚ôæÔ∏èüåø", price: 999, growTime: 25000, rarity: "–º–∏—Ñ–∏—á–µ—Å–∫–æ–µ" },
  { name: "–ü—Ä–∏–∑—Ä–∞—á–Ω–æ–µ –¥–µ—Ä–µ–≤–æ", emoji: "üå≥üëª", price: 78, growTime: 30000, rarity: "–ª–µ–≥–µ–Ω–¥–∞—Ä–Ω–æ–µ" },
    { name: "–¢—ã–∫–≤–∞-–≥–∏–≥–∞–Ω—Ç", emoji: "üéÉ", price: 20, growTime: 12000, rarity: "–∏–≤–µ–Ω—Ç–æ–≤–æ–µ", event: true },
    { name: "–ö–ª–µ–Ω–æ–≤–∞—è —è–≥–æ–¥–∞", emoji: "üçÅ", price: 35, growTime: 15000, rarity: "–∏–≤–µ–Ω—Ç–æ–≤–æ–µ", event: true },
    { name: "–ñ—ë–ª—É–¥—å-–∫—Ä–∏—Å—Ç–∞–ª–ª", emoji: "üå∞", price: 450, growTime: 25000, rarity: "–∏–≤–µ–Ω—Ç–æ–≤–æ–µ", event: true },
  { name: "–ü–µ–ø–µ–ª", emoji: "üî•", price: 1500, growTime: 50000, rarity: "—Å—Ç–∏—Ö–∏–π–Ω–æ–µ", },
  { name: "–ö–ª–µ–≤–µ—Ä", emoji: "üçÄ", price: 5000, growTime: 1000000, rarity: "—É–¥–∞—á–ª–∏–≤–æ–µ", },
];


const rarityOrder = {
  "–æ–±—ã—á–Ω–æ–µ": 1,
  "—Ä–µ–¥–∫–æ–µ": 2,
  "—ç–ø–∏—á–µ—Å–∫–æ–µ": 3,
  "–ª–µ–≥–µ–Ω–¥–∞—Ä–Ω–æ–µ": 4,
  "–º–∏—Ñ–∏—á–µ—Å–∫–æ–µ": 5
};

seeds.sort((a, b) => rarityOrder[a.rarity] - rarityOrder[b.rarity]);


function save() {
  localStorage.setItem("money", money);
  localStorage.setItem("slots", slots);
  localStorage.setItem("watering", watering);
  localStorage.setItem("garden", JSON.stringify(garden));
  if (money > bestMoney) {
  bestMoney = money;
  localStorage.setItem("bestMoney", bestMoney);
}

}

function updateUI() {
  document.getElementById("money").textContent = money;
  renderGarden();
  
}

function renderGarden() {
  const gardenDiv = document.getElementById("garden");
  gardenDiv.innerHTML = "";

  for (let i = 0; i < slots; i++) {
    const plot = document.createElement("div");
    plot.className = "plot";

    const plant = garden[i];
    if (plant) {
      plot.textContent = plant.emoji;
      if (!plant.ready) {
        plot.classList.add("growing");
      }
    if (plant.ready) {
        plot.innerHTML += `<div class="tooltip">–ì–æ—Ç–æ–≤–æ! (${plant.name})</div>`;
        plot.onclick = () => {
          money += Math.floor(plant.price * 1.5);
          garden[i] = null;
          updateUI();
          save();
        };
      } else {
        const percent = Math.floor((Date.now() - plant.start) / plant.time * 100);
        plot.innerHTML += `<div class="tooltip">${plant.rarity} ‚Ä¢ ${percent}%</div>`;
      }
    } else {
      plot.onclick = () => plantSeed(i);
    }

    gardenDiv.appendChild(plot);
  }
}

function renderSeeds() {
  const rarityOrder = {
  "–æ–±—ã—á–Ω–æ–µ": 1,
  "—Ä–µ–¥–∫–æ–µ": 2,
  "—ç–ø–∏—á–µ—Å–∫–æ–µ": 3,
  "–ª–µ–≥–µ–Ω–¥–∞—Ä–Ω–æ–µ": 4,
  "–º–∏—Ñ–∏—á–µ—Å–∫–æ–µ": 5
};

seeds.sort((a, b) => rarityOrder[a.rarity] - rarityOrder[b.rarity]);

  const seedButtons = document.getElementById("seedButtons");
  seedButtons.innerHTML = "";
  seeds.forEach((seed, index) => {
    const btn = document.createElement("button");
    btn.textContent = `${seed.emoji} ${seed.name} (${seed.price}üí∞)`;
    btn.onclick = () => {
      selectedSeed = index;
      toggleShop();
    };
    seedButtons.appendChild(btn);
  });
 

}

let selectedSeed = null;

function plantSeed(i) {
  if (selectedSeed === null) return;
  const seed = seeds[selectedSeed];
  if (money < seed.price) return;

  money -= seed.price;
  const time = seed.growTime - watering * 1000;
  garden[i] = {
    ...seed,
    start: Date.now(),
    time: time,
    ready: false
  };

  growPlant(i);
  updateUI();
  save();
  updateQuestProgress(0, 1); // –ü–æ—Å–∞–¥–∫–∞ —Ä–∞—Å—Ç–µ–Ω–∏—è

}

function growPlant(i) {
  const interval = setInterval(() => {
    const plant = garden[i];
    if (!plant) return clearInterval(interval);
    if (Date.now() - plant.start >= plant.time) {
      plant.ready = true;
      updateUI();
      save();
      clearInterval(interval);
    }
  }, 1000);
}

function buySlot() {
  if (slots >= maxSlots) {
    alert("–ú–∞–∫—Å–∏–º—É–º –≥—Ä—è–¥–æ–∫ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç! üåæ");
    return;
  }

  if (money >= 15) {
    money -= 15;
    slots += 1;
    garden.push(null);
    updateUI();
    save();
  } else {
    alert("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —à–∞–∫–∏–ª–µ–π!");
  }
}


function buyWatering() {
  if (money >= 10) {
    money -= 10;
    watering += 1;
    updateUI();
    save();
  }
}

function loadGrowth() {
  garden.forEach((plant, i) => {
    if (plant && !plant.ready) {
      growPlant(i);
    }
  });
}

function animateMoney() {
  const display = document.getElementById("money");
  if (!display) return;

  if (displayedMoney !== money) {
    displayedMoney += (money - displayedMoney) * 0.1;
    if (Math.abs(money - displayedMoney) < 0.5) {
      displayedMoney = money;
    }
    display.textContent = Math.floor(displayedMoney);
  }

  requestAnimationFrame(animateMoney);
}

function harvestAll() {
  let harvested = false;
  for (let i = 0; i < garden.length; i++) {
    const plant = garden[i];
    if (plant && plant.ready) {
      money += Math.floor(plant.price * 1.5);
      garden[i] = null;
      harvested = true;
    }
  }
  if (harvested) {
    updateUI();
    save();
  } else {
    alert("–ù–µ—Ç –≥–æ—Ç–æ–≤—ã—Ö —Ä–∞—Å—Ç–µ–Ω–∏–π! üå±");
  }
  updateQuestProgress(1, 1); // –°–±–æ—Ä —É—Ä–æ–∂–∞—è
  let earned = Math.floor(plant.price * 1.5); // —Å–∫–æ–ª—å–∫–æ –∑–∞—Ä–∞–±–æ—Ç–∞–ª –∑–∞ —Ä–∞—Å—Ç–µ–Ω–∏–µ
money += earned; // –¥–æ–±–∞–≤–ª—è–µ–º –∫ –¥–µ–Ω—å–≥–∞–º
updateQuestProgress(4, earned); // –ø—Ä–æ–≥—Ä–µ—Å—Å –∫–≤–µ—Å—Ç–∞ –ø–æ –∑–∞—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–º –¥–µ–Ω—å–≥–∞–º


}

function toggleShop() {
  const shop = document.getElementById("plantShop");
  shop.classList.toggle("hidden");
}

function showRecords() {
  document.getElementById("game").style.display = "none";
  document.getElementById("recordsScreen").style.display = "block";
  document.getElementById("bestMoneyDisplay").textContent = bestMoney;
}

function hideRecords() {
  document.getElementById("recordsScreen").style.display = "none";
  document.getElementById("game").style.display = "block";
}

function startRecordUpdateTimer(seconds) {
  const timerDisplay = document.getElementById("updateTime");

  function update() {
    const min = Math.floor(seconds / 60).toString().padStart(2, '0');
    const sec = (seconds % 60).toString().padStart(2, '0');
    timerDisplay.textContent = `${min}:${sec}`;

    if (seconds <= 0) {
      clearInterval(timerInterval);
      timerDisplay.textContent = "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ...";
      // –º–æ–∂–µ—à—å —Ç—É—Ç –≤—ã–∑–≤–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–ª–∏ —Å–∫—Ä—ã—Ç—å
    }

    seconds--;
  }

  update();

  const timerInterval = setInterval(update, 1000);
}

function renderEggShop() {
  const box = document.getElementById("eggButtons");
  box.innerHTML = "";
  eggs.forEach((egg, index) => {
    const btn = document.createElement("button");
    btn.textContent = `${egg.name} (${egg.price}üí∞)`;
    btn.onclick = () => buyEgg(index);
    btn.disabled = petsOwned.length >= maxPets;
    box.appendChild(btn);
  });
}

function buyEgg(index) {
  const egg = eggs[index];
  if (money >= egg.price && petsOwned.length < maxPets) {
    money -= egg.price;
    const pet = rollPet(egg.pets);
    petsOwned.push(pet);
    updatePetInventory();
    updateUI();
    save();
    alert(`–¢—ã –ø–æ–ª—É—á–∏–ª –ø–∏—Ç–æ–º—Ü–∞: ${pet.emoji} ${pet.name}!\n–°–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å: ${pet.ability}`);
  }
}

function rollPet(petList) {
  const rand = Math.random() * 100;
  let total = 0;
  for (let pet of petList) {
    total += pet.chance;
    if (rand <= total) return pet;
  }
  return petList[0]; // fallback
}

function updatePetInventory() {
  const box = document.getElementById("petInventory");
  box.innerHTML = "";
  petsOwned.forEach(pet => {
    const div = document.createElement("div");
    div.className = "petSlot";
    div.innerHTML = `<div class="petEmoji">${pet.emoji}</div><div class="petInfo">${pet.name}<br><small>${pet.ability}</small></div>`;
    box.appendChild(div);
  });
}



function openQuests() {
  const list = document.getElementById("questList");
  list.innerHTML = "";
  autumnQuests.forEach(q => {
    const li = document.createElement("li");
    li.textContent = `${q.text} ‚Äî ${q.progress}/${q.goal}`;
    if (q.completed) {
      li.style.color = "green";
      li.textContent += " ‚úÖ";
    }
    list.appendChild(li);
  });
  document.getElementById("questWindow").style.display = "block";
}

function closeQuests() {
  document.getElementById("questWindow").style.display = "none";
}

function updateQuestProgress(index, amount = 1) {
  let quest = autumnQuests[index];
  if (!quest.completed) {
    quest.progress += amount;
    if (quest.progress >= quest.goal) {
      quest.progress = quest.goal;
      quest.completed = true;
    }
  }
}


const bgMusic = document.getElementById("bg-music");

document.addEventListener("click", () => {
    if (bgMusic.paused) {
        bgMusic.play();
    }
});






renderEggShop();
updatePetInventory();
animateMoney();
renderSeeds();
updateUI();
loadGrowth();


  </script>
</body>
</html>
